<div *ngIf="errorLoading" class="error-message">
    {{ errorMessage }} <br />
    <button (click)="onBack()">Go Back</button>
</div>
<div *ngIf="isLoading()" class="loading-indicator">
  Loading match details...
</div>

<div  class="match-details-container">
    <div class="match-header">
        <div class="match-info">
            <div>
                <span class="label">Player: {{currentPlayerName}}</span><br />
                <span class="label">Match UID: </span><span class="value">{{ rowData()?.match_uid }}</span><br />
            </div>
            <div>
                <span class="label">Game Mode: </span>
                <span class="value">{{ rowData()?.game_mode?.game_mode_name }}</span>
            </div>
            <div>
                <span class="label">Replay ID: </span>
                <span class="value">{{ rowData()?.replay_id }}</span>
            </div>
        </div>
        <div class="mvp-svp-info">
            <div class="mvp-info">
                <span class="label">MVP: </span>
                <span class="value">{{ rowData()?.mvp_uid }}</span>
            </div>
            <div class="svp-info">
                <span class="label">SVP: </span>
                <span class="value">{{ rowData()?.svp_uid }}</span>
            </div>
        </div>
    </div>
    <img [src]="selectedMapImage" alt="Map Thumbnail" class="map-thumbnail" />
    <div class="players-table-wrapper">
        <ag-grid-angular style="width: 100%; height: 100%;" 
        [theme]="theme"
        [rowHeight]="50"
        [rowData]="rowData()?.match_players"
        [getRowClass]="getRowClass"
        [columnDefs]="columnDefs" 
        [domLayout]="'autoHeight'"
        [context]="{ componentParent: this }">
        </ag-grid-angular>
    </div>
</div>